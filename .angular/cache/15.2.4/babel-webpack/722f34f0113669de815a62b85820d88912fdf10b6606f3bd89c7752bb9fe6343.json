{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../s3-service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nfunction FileListComponent_button_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function FileListComponent_button_11_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.back());\n    });\n    i0.ɵɵtext(1, \"Back\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction FileListComponent_div_17_ng_container_1_a_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 16);\n    i0.ɵɵlistener(\"click\", function FileListComponent_div_17_ng_container_1_a_1_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const content_r6 = i0.ɵɵnextContext().$implicit;\n      const ctx_r9 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r9.viewFile(content_r6.name));\n    });\n    i0.ɵɵelement(1, \"i\", 17);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementStart(3, \"span\", 18);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const content_r6 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", content_r6.name, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", content_r6.modifiedTime, \" \");\n  }\n}\nfunction FileListComponent_div_17_ng_container_1_a_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 19);\n    i0.ɵɵlistener(\"click\", function FileListComponent_div_17_ng_container_1_a_2_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const content_r6 = i0.ɵɵnextContext().$implicit;\n      const ctx_r13 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r13.openFolder(content_r6.name));\n    });\n    i0.ɵɵelement(1, \"i\", 20);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const content_r6 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", content_r6.name, \" \");\n  }\n}\nfunction FileListComponent_div_17_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, FileListComponent_div_17_ng_container_1_a_1_Template, 5, 2, \"a\", 14);\n    i0.ɵɵtemplate(2, FileListComponent_div_17_ng_container_1_a_2_Template, 3, 1, \"a\", 15);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const content_r6 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", content_r6.contentType == \"file\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", content_r6.contentType == \"folder\");\n  }\n}\nfunction FileListComponent_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵtemplate(1, FileListComponent_div_17_ng_container_1_Template, 3, 2, \"ng-container\", 13);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.contentList);\n  }\n}\nfunction FileListComponent_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 21);\n    i0.ɵɵtext(1, \" No Content \");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class FileListComponent {\n  constructor(s3Service) {\n    this.s3Service = s3Service;\n    this.contentList = [];\n  }\n  ngOnInit() {\n    this.openFolder(this.s3Service.currentFolder);\n  }\n  back() {\n    //---    Document/One/Two/\n    let arr = this.s3Service.currentFolder.split('/');\n    arr.splice(arr.length - 2, 1);\n    let folderName = arr.join('/');\n    this.openFolder(folderName);\n  }\n  openFolder(folder) {\n    this.s3Service.currentFolder = folder;\n    this.s3Service.getFolderContent().subscribe(m => {\n      this.contentList = m;\n    });\n  }\n  viewFile(key) {\n    this.s3Service.getUrl(key).subscribe(m => {\n      window.open(m, '_blank');\n    });\n  }\n}\nFileListComponent.ɵfac = function FileListComponent_Factory(t) {\n  return new (t || FileListComponent)(i0.ɵɵdirectiveInject(i1.S3Service));\n};\nFileListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: FileListComponent,\n  selectors: [[\"app-file-list\"]],\n  decls: 19,\n  vars: 4,\n  consts: [[1, \"card\", \"bg-secondary\", \"text-white\"], [1, \"card-header\"], [1, \"card-body\"], [1, \"row\"], [1, \"col-sm-6\"], [1, \"col-sm-6\", \"text-end\"], [\"class\", \"btn btn-primary btn-sm\", 3, \"click\", 4, \"ngIf\"], [\"routerLink\", \"/new-folder\", 1, \"btn\", \"btn-primary\", \"btn-sm\", 2, \"margin-left\", \"5px\"], [\"routerLink\", \"/upload\", 1, \"btn\", \"btn-primary\", \"btn-sm\", 2, \"margin-left\", \"5px\"], [\"class\", \"list-group mt-2\", 4, \"ngIf\"], [\"class\", \"mt-2\", 4, \"ngIf\"], [1, \"btn\", \"btn-primary\", \"btn-sm\", 3, \"click\"], [1, \"list-group\", \"mt-2\"], [4, \"ngFor\", \"ngForOf\"], [\"href\", \"javascript:;\", \"class\", \"list-group-item list-group-item-action list-group-item-secondary\", 3, \"click\", 4, \"ngIf\"], [\"href\", \"javascript:;\", \"class\", \"list-group-item list-group-item-action list-group-item-primary\", 3, \"click\", 4, \"ngIf\"], [\"href\", \"javascript:;\", 1, \"list-group-item\", \"list-group-item-action\", \"list-group-item-secondary\", 3, \"click\"], [1, \"fa\", \"fa-solid\", \"fa-file\"], [2, \"float\", \"right\"], [\"href\", \"javascript:;\", 1, \"list-group-item\", \"list-group-item-action\", \"list-group-item-primary\", 3, \"click\"], [1, \"fa\", \"fa-solid\", \"fa-folder\"], [1, \"mt-2\"]],\n  template: function FileListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n      i0.ɵɵtext(2, \" My Family Documents \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"div\", 2)(4, \"div\", 3)(5, \"div\", 4)(6, \"label\");\n      i0.ɵɵtext(7, \"Current Folder : \");\n      i0.ɵɵelementStart(8, \"b\");\n      i0.ɵɵtext(9);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(10, \"div\", 5);\n      i0.ɵɵtemplate(11, FileListComponent_button_11_Template, 2, 0, \"button\", 6);\n      i0.ɵɵelementStart(12, \"button\", 7);\n      i0.ɵɵtext(13, \"Create Folder\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"button\", 8);\n      i0.ɵɵtext(15, \"Upload File\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelement(16, \"hr\");\n      i0.ɵɵtemplate(17, FileListComponent_div_17_Template, 2, 1, \"div\", 9);\n      i0.ɵɵtemplate(18, FileListComponent_div_18_Template, 2, 0, \"div\", 10);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(9);\n      i0.ɵɵtextInterpolate(ctx.s3Service.currentFolder || \"/\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.s3Service.currentFolder != \"FamilyDocuments/\");\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngIf\", ctx.contentList.length > 0);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.contentList.length == 0);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.RouterLink],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;;IAUgBA,kCACyD;IADjDA;MAAAA;MAAA;MAAA,OAASA,4BAAM;IAAA,EAAC;IACiCA,oBAAI;IAAAA,iBAAS;;;;;;IAUtEA,6BAC6E;IADtDA;MAAAA;MAAA;MAAA;MAAA,OAASA,+CAAsB;IAAA,EAAC;IAEnDA,wBAAmC;IACnCA,YACA;IAAAA,gCAA0B;IACtBA,YACJ;IAAAA,iBAAO;;;;IAHPA,eACA;IADAA,gDACA;IACIA,eACJ;IADIA,wDACJ;;;;;;IAEJA,6BAC2E;IADpDA;MAAAA;MAAA;MAAA;MAAA,OAASA,kDAAwB;IAAA,EAAC;IAErDA,wBAAqC;IACrCA,YACJ;IAAAA,iBAAI;;;;IADAA,eACJ;IADIA,gDACJ;;;;;IAbJA,6BAAkD;IAC9CA,qFAOI;IACJA,qFAII;IACRA,0BAAe;;;;IAb8CA,eAAiC;IAAjCA,uDAAiC;IAQ/BA,eAAmC;IAAnCA,yDAAmC;;;;;IAVtGA,+BAA0D;IACtDA,4FAce;IACnBA,iBAAM;;;;IAfgCA,eAAc;IAAdA,4CAAc;;;;;IAgBpDA,+BAAgD;IAC5CA,4BACJ;IAAAA,iBAAM;;;AC7Bd,OAAM,MAAOC,iBAAiB;EAG5BC,YAAmBC,SAAoB;IAApB,cAAS,GAATA,SAAS;IAD5B,gBAAW,GAAgB,EAAE;EAE7B;EACAC,QAAQ;IACN,IAAI,CAACC,UAAU,CAAC,IAAI,CAACF,SAAS,CAACG,aAAa,CAAC;EAC/C;EAEAC,IAAI;IACF;IACA,IAAIC,GAAG,GAAG,IAAI,CAACL,SAAS,CAACG,aAAa,CAACG,KAAK,CAAC,GAAG,CAAC;IACjDD,GAAG,CAACE,MAAM,CAACF,GAAG,CAACG,MAAM,GAAG,CAAC,EAAE,CAAC,CAAC;IAC7B,IAAIC,UAAU,GAAGJ,GAAG,CAACK,IAAI,CAAC,GAAG,CAAC;IAC9B,IAAI,CAACR,UAAU,CAACO,UAAU,CAAC;EAC7B;EAEAP,UAAU,CAACS,MAAc;IACvB,IAAI,CAACX,SAAS,CAACG,aAAa,GAAGQ,MAAM;IACrC,IAAI,CAACX,SAAS,CAACY,gBAAgB,EAAE,CAACC,SAAS,CAACC,CAAC,IAAG;MAC9C,IAAI,CAACC,WAAW,GAAGD,CAAC;IACtB,CAAC,CAAC;EACJ;EAEAE,QAAQ,CAACC,GAAW;IAClB,IAAI,CAACjB,SAAS,CAACkB,MAAM,CAACD,GAAG,CAAC,CAACJ,SAAS,CAACC,CAAC,IAAG;MACvCK,MAAM,CAACC,IAAI,CAACN,CAAC,EAAE,QAAQ,CAAC;IAC1B,CAAC,CAAC;EACJ;;AA5BWhB,iBAAiB;mBAAjBA,iBAAiB;AAAA;AAAjBA,iBAAiB;QAAjBA,iBAAiB;EAAAuB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDT9B5B,8BAA0C;MAElCA,qCACJ;MAAAA,iBAAM;MACNA,8BAAuB;MAEcA,iCAAiB;MAAAA,yBAAG;MAAAA,YAAgC;MAAAA,iBAAI;MAGrFA,+BAA+B;MAC3BA,0EACsE;MAEtEA,kCAA0F;MAAAA,8BAAa;MAAAA,iBAAS;MAEhHA,kCAAsF;MAAAA,4BAAW;MAAAA,iBAAS;MAGlHA,sBAAI;MACJA,oEAgBM;MACNA,qEAEM;MACVA,iBAAM;;;MAjCmDA,eAAgC;MAAhCA,wDAAgC;MAKxEA,eAAkD;MAAlDA,wEAAkD;MAQjCA,eAA0B;MAA1BA,iDAA0B;MAiBrCA,eAA2B;MAA3BA,kDAA2B","names":["i0","FileListComponent","constructor","s3Service","ngOnInit","openFolder","currentFolder","back","arr","split","splice","length","folderName","join","folder","getFolderContent","subscribe","m","contentList","viewFile","key","getUrl","window","open","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\ramit\\OneDrive\\Documents\\GitHub\\Photos\\file-manager2\\src\\app\\file-list\\file-list.component.html","C:\\Users\\ramit\\OneDrive\\Documents\\GitHub\\Photos\\file-manager2\\src\\app\\file-list\\file-list.component.ts"],"sourcesContent":["<div class=\"card bg-secondary text-white\">\r\n    <div class=\"card-header\">\r\n        My Family Documents\r\n    </div>\r\n    <div class=\"card-body\">\r\n        <div class=\"row\">\r\n            <div class=\"col-sm-6\"><label>Current Folder : <b>{{s3Service.currentFolder||'/'}}</b></label>\r\n\r\n            </div>\r\n            <div class=\"col-sm-6 text-end\">\r\n                <button (click)=\"back()\" class=\"btn btn-primary btn-sm\"\r\n                    *ngIf=\"s3Service.currentFolder !='FamilyDocuments/'\">Back</button>\r\n                \r\n                <button class=\"btn btn-primary btn-sm\" style=\"margin-left: 5px;\" routerLink=\"/new-folder\">Create Folder</button>\r\n                \r\n                <button class=\"btn btn-primary btn-sm\" style=\"margin-left: 5px;\" routerLink=\"/upload\">Upload File</button>\r\n            </div>\r\n        </div>\r\n        <hr>\r\n        <div class=\"list-group mt-2\" *ngIf=\"contentList.length>0\">\r\n            <ng-container *ngFor=\"let content of contentList\">\r\n                <a href=\"javascript:;\" (click)=\"viewFile(content.name)\" *ngIf=\"content.contentType=='file'\"\r\n                    class=\"list-group-item list-group-item-action list-group-item-secondary\">\r\n                    <i class=\"fa fa-solid fa-file\"></i>\r\n                    {{content.name}}\r\n                    <span style=\"float:right\">\r\n                        {{content.modifiedTime}}\r\n                    </span>\r\n                </a>\r\n                <a href=\"javascript:;\" (click)=\"openFolder(content.name)\" *ngIf=\"content.contentType=='folder'\"\r\n                    class=\"list-group-item list-group-item-action list-group-item-primary\">\r\n                    <i class=\"fa fa-solid fa-folder\"></i>\r\n                    {{content.name}}\r\n                </a>\r\n            </ng-container>\r\n        </div>\r\n        <div class=\"mt-2\" *ngIf=\"contentList.length==0\">\r\n            No Content\r\n        </div>\r\n    </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { S3Content } from '../s3-content';\r\nimport { S3Service } from '../s3-service';\r\n\r\n@Component({\r\n  selector: 'app-file-list',\r\n  templateUrl: './file-list.component.html',\r\n  styleUrls: ['./file-list.component.css']\r\n})\r\nexport class FileListComponent implements OnInit {\r\n\r\n  contentList: S3Content[] = [];\r\n  constructor(public s3Service: S3Service) {\r\n  }\r\n  ngOnInit(): void {\r\n    this.openFolder(this.s3Service.currentFolder);\r\n  }\r\n\r\n  back(): void {\r\n    //---    Document/One/Two/\r\n    let arr = this.s3Service.currentFolder.split('/');\r\n    arr.splice(arr.length - 2, 1);\r\n    let folderName = arr.join('/');\r\n    this.openFolder(folderName);\r\n  }\r\n\r\n  openFolder(folder: string) {\r\n    this.s3Service.currentFolder = folder;\r\n    this.s3Service.getFolderContent().subscribe(m => {\r\n      this.contentList = m;\r\n    })\r\n  }\r\n\r\n  viewFile(key: string) {\r\n    this.s3Service.getUrl(key).subscribe(m => {\r\n      window.open(m, '_blank');\r\n    })\r\n  }\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}